{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\topia\\\\Desktop\\\\projecti\\\\V10_2\\\\Ilmastonmuutos\\\\webproject_react\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useActionData } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Form, Col, Row, Container } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const URL = \"http://localhost:8080/login\";\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [errorMessage, seterrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n  function Validate() {\n    return user.length > 0 && pass.length > 0;\n  }\n  function handleSubmit(event) {\n    axios.post(URL, {}, {\n      params: {\n        username: user,\n        password: pass\n      }\n    }).then(function (response) {\n      console.log(response);\n      sessionStorage.setItem(\"token\", response.data);\n      navigate('/createview');\n    }).catch(function (error) {\n      if (error.response.status === 401) {\n        seterrorMessage(\"Wrong username or password\");\n      }\n      console.log(error);\n    });\n    event.preventDefault();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"username\",\n          placeholder: \"Example1234\",\n          autoFocus: true,\n          value: user,\n          onChange: e => setUser(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"********\",\n          value: pass,\n          onChange: e => setPass(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: \"loginbtn\",\n        type: \"submit\",\n        disabled: !Validate(),\n        onClick: handleSubmit,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loginpagetext\",\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/CreateUser\",\n          children: \"Create one!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 69\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"text-danger\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loginpagetext\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"UmeH2KkejJ5lPOdYpBzidZmPfcw=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useActionData","Button","Form","Col","Row","Container","useNavigate","axios","Login","URL","user","setUser","pass","setPass","errorMessage","seterrorMessage","navigate","Validate","length","handleSubmit","event","post","params","username","password","then","response","console","log","sessionStorage","setItem","data","catch","error","status","preventDefault","e","target","value"],"sources":["C:/Users/topia/Desktop/projecti/V10_2/Ilmastonmuutos/webproject_react/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useActionData } from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Button, Form, Col, Row, Container } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Login() {\r\n    const URL = \"http://localhost:8080/login\";\r\n    const [user, setUser] = useState(\"\");\r\n    const [pass, setPass] = useState(\"\");\r\n    const [errorMessage, seterrorMessage] = useState(\"\")\r\n    const navigate = useNavigate();\r\n\r\n    function Validate() {\r\n        return user.length > 0 && pass.length > 0;\r\n    }\r\n\r\n\r\n    function handleSubmit(event) {\r\n        axios.post(URL, {\r\n            \r\n        },\r\n            {\r\n                params: {\r\n                    username: user,\r\n                    password: pass\r\n                },\r\n            }\r\n        )\r\n        .then(function (response) {\r\n                console.log(response);\r\n                sessionStorage.setItem(\"token\", response.data);\r\n                navigate('/createview');\r\n                \r\n            })\r\n        .catch(function (error) {\r\n                if (error.response.status === 401) {\r\n                    seterrorMessage(\"Wrong username or password\");\r\n               }\r\n                console.log(error);\r\n            })\r\n        \r\n        event.preventDefault();\r\n        \r\n\r\n    }\r\n    return (\r\n        <div>\r\n\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group>\r\n                    <Form.Label>Username</Form.Label>\r\n                    <Form.Control type=\"username\" placeholder=\"Example1234\" autoFocus value={user} onChange={(e) => setUser(e.target.value)} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"********\" value={pass} onChange={(e) => setPass(e.target.value)} />\r\n                </Form.Group>\r\n            </Form>\r\n            <div class=\"text-center\">\r\n                <Button className=\"loginbtn\" type=\"submit\" disabled={!Validate()} onClick={handleSubmit}>Login</Button>\r\n            </div>\r\n\r\n            <div>\r\n                <p className=\"loginpagetext\">Don't have an account? <Link to=\"/CreateUser\">Create one!</Link></p>\r\n            </div>\r\n\r\n            <div class=\"text-danger\">\r\n                <p className=\"loginpagetext\" >{errorMessage}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}